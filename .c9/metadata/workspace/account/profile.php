{"changed":false,"filter":false,"title":"profile.php","tooltip":"/account/profile.php","value":"<?php\n\ninclude \"../connection.php\";\n    \n    $cookie_name    = 'user_id';\n    $user_type_id   = $_COOKIE[$cookie_name]; // Gets the cookie_value from the cookie_name, i.e. the user id number from type \"user_id\".\n    \n    if($user_type_id == '3'){ //3 is Admin\n    \n    header (\"Location: ../account/admin/index.php\");\n    }\n    else{\n        \n                //@ref: https://stackoverflow.com/questions/50875197/php-mysql-if-content-is-not-in-one-table-check-another\n        $cookie_name    = 'user';\n        $email          = $_COOKIE[$cookie_name]; // Gets the cookie_value from the cookie_name, i.e. the email from the type 'user'.\n        $email2         = $email;\n\n    \n        $query  = \"SELECT * FROM Customer WHERE email = '$email'\";\n        $result = $db->query($query);\n    \n        if ($result->num_rows > 0){ // if results are in Customer table, this if will proceed\n    \n           header( 'Location: ../account/customer/customer_profile.php' );\n        }\n        else if($result->num_rows == 0){ // if no results in the Customer table, it will search the Company table.\n           $query2         = \"SELECT * FROM Company WHERE rep_email = '$email2'\";\n           $result2        = $db->query($query2);\n               if($result2->num_rows>0){\n                    header( 'Location: ../account/company/company_profile.php' );\n            }\n            else{\n                 header( 'Location: ../account/login.php' );\n            }\n        }\n    }\n?>","undoManager":{"mark":-1,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":120,"scrollleft":0,"selection":{"start":{"row":32,"column":16},"end":{"row":32,"column":16},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":7,"state":"php-start","mode":"ace/mode/php"}},"timestamp":1531314441282}